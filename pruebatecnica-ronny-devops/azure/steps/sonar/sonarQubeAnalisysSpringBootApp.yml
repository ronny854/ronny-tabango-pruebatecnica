steps:
- script: |
    DIR_PROJECT="$(Agent.BuildDirectory)/springboot-app-compiled"
    echo "[INFO] Init SonarQube Analysis for Spring Boot Application"
    echo "[EXEC] sonar-scanner -Dsonar.projectKey=$(PROJECT_KEY) -Dsonar.sources=$DIR_PROJECT/src -Dsonar.host.url=$(SONARQUBE_URL) -Dsonar.login=$(TOKEN_ACCESS_SONAR) -Dsonar.language=java"
    sonar-scanner \
      -Dsonar.host.url=$(SONARQUBE_URL) \
      -Dsonar.organization=zfactorial \
      -Dsonar.projectKey=$(PROJECT_KEY) \
      -Dsonar.login=$(SONAR_TOKEN) \
      -Dsonar.sources=$DIR_PROJECT/src \
      -Dsonar.language=java
  displayName: "SonarQube Analysis"